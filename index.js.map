{"version":3,"sources":["../src/index.js"],"names":["listen","http","port","console","info","env","use","req","res","next","header","on","ws","p2p","peers"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,eAAIA,MAAJ,CAAW,iBAAOC,IAAP,CAAYC,IAAvB,EAA6B,MAAMC,QAAQC,IAAR,CAAc,yCAAwC,iBAAOH,IAAP,CAAYC,IAAK,KAAI,iBAAOG,GAAI,GAAtF,CAAnC;AACA,eAAIC,GAAJ,CAAQ,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAChCD,MAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACEF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACFD;AACD,CAJD;AAKA,gBAAIE,EAAJ,CAAO,YAAP,EAAqBC,MAAM,2BAAeA,EAAf,CAA3B;AACAT,QAAQC,IAAR,CAAc,wCAAuC,iBAAOS,GAAP,CAAWX,IAAK,KAAI,iBAAOG,GAAI,GAApF;;AAEA,2BAAe,iBAAOQ,GAAP,CAAWC,KAA1B","file":"index.js","sourcesContent":["import config from './config';\nimport app from './http';\nimport p2p, { initConnection, connectToPeers } from './p2p/index';\n\napp.listen(config.http.port, () => console.info(`HTTP server has been started on port: ${config.http.port} (${config.env})`));\napp.use(function (req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  next();\n});\np2p.on('connection', ws => initConnection(ws));\nconsole.info(`P2P server has been started on port: ${config.p2p.port} (${config.env})`);\n\nconnectToPeers(config.p2p.peers);\n"]}